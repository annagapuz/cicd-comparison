# Set up Demo

- Start all docker-compose services
  - docker-compose up -d 
- Check in all service code to SVN
  - <do on Mac so it's on Docker volume>
  - http://localhost:9080/svn/movie-service
    - svn import -m "Initial checkin" http://localhost:9080/svn/movie-service/trunk
    - svn co http://localhost:9080/svn/movie-service/trunk SvnMovieService
  - http://localhost:9080/svn/movie-web
    - svn import -m "Initial checkin" http://localhost:9080/svn/movie-web/trunk
    - svn co http://localhost:9080/svn/movie-web/trunk SvnMovieWeb
  - http://localhost:9080/svn/movie-scripts
    - svn import -m "Initial checkin" http://localhost:9080/svn/movie-scripts/trunk
    - svn co http://localhost:9080/svn/movie-service/trunk SvnMovieScripts
  - http://localhost:9080/svn/pipeline
    - svn import -m "Initial checkin" http://localhost:9080/svn/pipeline/trunk
    - svn co http://localhost:9080/svn/pipeline/trunk SvnPipeline
- JBoss setup
  - Admin console - http://localhost:9900
    - Add ENVIRONMENT=deploy to Jboss System Properties
  - Service - http://localhost:9800/movie-service
  - Web - http://localhost:9800/movie-web
- Nexus
  - docker exec -it docker_nexus_1 bash 
    - cat /nexus-data/admin.password
  - Add Releases and Snapshots repositories
  - Add Sybase driver to Nexus
    - mvn deploy:deploy-file -DrepositoryId=demoRepo -Durl=http://localhost:9081/repository/demo-release/ -Dfile=/home/amgaps/dev/software/sap-ase/jconn4.jar -DgroupId=com.sybase.jdbc4 -DartifactId=jconn -Dversion=4 -Dpackaging=jar
- SonarQube
  - Start as admin:admin
  - mvn sonar:sonar -Dsonar.projectKey=movie-service -Dsonar.host.url=http://sonarqube:9000 -Dsonar.login=07b739a25d86dc8f9c07ecc68b9a28aa495933e4 -Dsonar.scm.disabled=true
- Jenkins
  - Install Plugins
    - JaCoCo
    - SonarQube
  - Install JDK
    - https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz
  - Install Maven
    - Add maven-global-settings.xml
- TeamCity
  - Add JDK 11 (done via Dockerfile)
  - http://localhost:8111
  - Authorize agent
  - Add maven-global-settings.xml to Root project
  - Add SonarQube Server profile to Root project
- GitLab
  - Register runner
    - docker-compose run gitlab-runner register
